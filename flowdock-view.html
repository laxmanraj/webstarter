<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/px-card/px-card.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/px-dropdown/px-dropdown.html">
<link rel="import" href="../../bower_components/px-icon-set/px-icon-set.html">
<link rel="import" href="../../bower_components/px-alert-message/px-alert-message.html">
<link rel="import" href="../../bower_components/px-theme/px-theme-styles.html">
<link rel="import" href="../../bower_components/iron-signals/iron-signals.html"/>
<link rel="import" href="../../bower_components/px-login/px-login.html">


<script src="../../bower_components/moment/min/moment.min.js"></script>

<dom-module id="flowdock-view">
    <template>
      <style include="flowdock-view-styles">
         #userNameButton {
                float: left;
                padding-top: 10px;
            }
          #mainContentForm {
              display: block;
              clear: both;
          }
           #flowDockForm {
                float: left;
                width: 25%;
                background-color: #161d1f; 
            }
            #sidePanel {
              
                display: inline-block;
                height: 500px;
               
            }
            #contentBlock {
                background-color: #fff; 
              height: 100%;
            }
            #alertMessageId {
                position: absolute;
                top: 10px;
                right: 20px;
                z-index: 300;
                }
      </style>
      <iron-signals 
      on-iron-signal-pass-login-details="_loginDetails">
    </iron-signals>
      <div >
      <px-alert-message
        visible="{{isSuccess}}"
        type="information"
        message-title="Well done!"
        message="{{successMessage}}"
        action="dismiss"
        auto-dismiss="6000"
        id="alertMessageId"
        language="en"
        disable-auto-show
        hide-severity
        hide-badge>
        <px-icon icon="px-utl:information" style="color:white;"></px-icon>
    </px-alert-message></div>
   
       <div id="mainContentForm" header-text="FlowDock Application">
                <div id="flowDockForm">
                        <div class="u-1/1-palm">
                            <div class="flex flex--row flex--left">
                              <px-login id="userNameButton" class="u-pr u-pt"></px-login>
                            </div>
                          </div>
                    <div id="sidePanel">
                        <h3 >TECH M Developer Cloud</h3>
                        <div class="team"> FALCONS TEAM</div>
                    </div>
                </div>
           
            <div id="contentBlock">
                <p>
                        What is the Predix WebApp Starter?
                        The Predix WebApp Starter ("Starter") is a web application starter kit aimed to accelerate Predix application development. It comes in the form of a simple web application, with code examples on features such as branding, theming, layout, navigation, responsiveness, organization of views, data presentation and micro-services integration, to name some. These working code samples can be straightforwardly customized and adapted to specific application needs. Predix application projects can directly use, remove from or add to these features to achieve prototype or production state much faster than through building everything from scratch. This speeds up application development, letting developers focus on functionality, instead of having to make boilerplate concerns work.
                        
                        As its name indicates the Starter is built on Polymer. Based on the Web Component API, Polymer is a component framework that prefers the browser's native capabilities over HTML and JavaScript enhancements, wherever possible. And where there are differences in currently available features, polyfills are provided towards consistent cross-browser behavior. By adopting the Polymer strategy the Starter ensures high consistency of application behavior across browsers, and the best chances of compatibility with future browser versions.
                        
                        Most of the frontend components provided in the Starter are from Predix UI Components, which are also built on Polymer. These re-usable UI building blocks have been researched and designed to address the most common UI patterns. Both built upon Polymer, the Starter and Px Components work together out-of-the-box. Px Components can be used independently, or in combination with one another and with the Starter. This achieves consistent behavior, look-and-feel, and high code re-use.
                        
                        The backend of the Starter is implemented as a NodeJS/Express web server. It presently includes a minimal set of public modules and a couple of Predix-specific modules (for session and proxy concerns, for example). Similar to the frontend, it is also straightforwardly customizable, even replaceable by another server application, if so desired. NodeJS is a server-side application framework based on JavaScript. It enjoys strong growth and huge adoption in the server applications community.
                        
                        Many features offered by the Starter are from open-source component projects, many of which are actively discussed and contributed to. This provides developers with available documentation and help in using such components for their projects.</p>
            </div>
       
      
    </div>
      
    </template>
    <script>
        Polymer({
            is: "flowdock-view",
            properties:{
                loginInfo:{
                    type:Object
                },
                successMessage: {
                    type:String
                },
                isSuccess : {
                    type: Boolean,
                    value:false
                },
            },
            _loginDetails: function(event) {
               this.loginInfo = event.detail.loginInfo;
               console.log(this.loginInfo);
               
                console.log(this.isSuccess);
                console.log(this.successMessage);
            },
            attach: function(){
                console.log('attach page loads');
                console.log(this.loginInfo);
            },
            ready: function () {
                this.loginInfo = window.history.state;
                console.log('flowdock page loads');
                console.log(this.loginInfo);
                this.isSuccess = this.loginInfo.isSuccess;
                this.successMessage = this.loginInfo.successMessage;
                //console.log(this.isSuccess);
               // console.log(this.successMessage);
            },
           
            
        });
    </script>
    </dom-module>